<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="data-page">
  <template>
    <style>
      paper-material {
        margin: 1%;
      }
    </style>

    <paper-material elevation="1">
      <paper-header-panel>
        <paper-toolbar>
          <div>Data</div>
        </paper-toolbar>
      </paper-header-panel>


      <section onclick="clickHandler(event)">
        <paper-button data-dialog="modal" onclick="clickHandler(event)">Dialog</paper-button>

        <paper-dialog id="modal" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
          <h2>Header</h2>
          <div>Dialog body</div>
        </paper-dialog>
      </section>
      <h1>Loading</h1>
      <paper-spinner active></paper-spinner>

      <paper-progress indeterminate></paper-progress>

      <paper-menu>
        <paper-item>Item 1</paper-item>
        <paper-item>Item 2</paper-item>
      </paper-menu>

      <paper-button raised>Ok</paper-button>
      <paper-button raised>Cancel</paper-button>

    </paper-material>
  </template>
  <script>
    Polymer({
      is: "data-page"
    });

    function clickHandler(e) {
      var button = e.target;
      console.log(button);
      while (!button.hasAttribute('data-dialog') && button !== document.body) {
        button = button.parentElement;
      }

      if (!button.hasAttribute('data-dialog')) {
        return;
      }

      var id = button.getAttribute('data-dialog');
      var dialog = document.getElementById(id);
      if (dialog) {
        dialog.open();
      }
    }
  </script>
</dom-module>